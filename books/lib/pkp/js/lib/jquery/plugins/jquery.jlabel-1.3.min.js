(function(a){a.fn.jLabel=function(i){var h=new Array();var b=a.extend({},a.fn.jLabel.defaults,i);return this.each(function(){var $this=a(this);h.push(new d($this));$this.focus(function(){j(a(this))}).blur(function(){e(a(this))}).keyup(function(){c(a(this))}).change(function(){c(a(this))})});function d(k){this.equals=function(l){return l.attr("id")==this.input.attr("id")};this.input=k;this.label=f(k);if(this.input.val()!=""){this.label.hide()}}function g(l){var k;a.each(h,function(){if(this.equals(l)){k=this;return false}});return k}function f(l){var k=a("label[for="+l.attr("id")+"]");if(k.size()==0){k=a("<label>").attr("for",l.attr("id")).text(l.attr("title"))}l.before(k);k.css({"font-family":l.css("font-family"),"font-size":l.css("font-size"),"font-style":l.css("font-style"),"font-variant":l.css("font-variant"),"font-weight":l.css("font-weight"),"letter-spacing":l.css("letter-spacing"),"line-height":l.css("line-height"),"text-decoration":l.css("text-decoration"),"text-transform":l.css("text-transform"),color:l.css("color"),cursor:l.css("cursor"),width:l.css("width"),display:"inline-block",overflow:"hidden"});k.mousedown(function(){return false}).css({position:"relative","z-index":"100","margin-right":-k.width(),left:b.xShift+parseInt(l.css("padding-left"))+"px",top:b.yShift+"px"});return k}function j(k){if(k.val()==""){g(k).label.stop().fadeTo(b.speed,b.opacity)}}function e(k){if(k.val()==""){g(k).label.stop().fadeTo(b.speed,1)}}function c(l){var k=g(l).label;if(l.val()==""){k.stop().fadeTo(b.speed,b.opacity)}else{if(k.is(":visible")){k.stop().fadeTo(b.speed,0,function(){k.hide()})}}}};a.fn.jLabel.defaults={speed:200,opacity:0.4,xShift:2,yShift:0}})(jQuery);
